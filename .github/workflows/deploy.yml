
name: Deploy static website 

on: 
  push:
   branches:
    -main

jobs:
  deploy:
     runs-on: ubuntu-latest

     steps: 
      - name: checkout code
        uses: action/checkout@v3

      - name: Configure AWS Credentials
        uses: aws-actions/configure-aws-credentials@v2
        with:
           aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}
           aws-secrete-access-key: ${{ secrets.AWS_SECRETE_ACCESS_KEY }}
           aws-region: ${{ secrets.AWS_REGION }}

      - name: deploy to s3
        run: |
            aws s3 sync . s3://${{ secrets.S3_BUCKET_NAME }}  --delete